pipeline {
    agent any // O Jenkins escolherá automaticamente um nó escravo disponível
    
    stages {
        stage('Execute on Remote Server') {
            steps {
                script {
                    def remoteServer = [:]
                    remoteServer.name = 'workstation' // Substitua pelo nome da credencial SSH configurada no Jenkins
                    remoteServer.host = 'workstation' // Substitua pelo endereço IP ou nome do servidor remoto
                    remoteServer.user = 'root' // Substitua pelo nome de usuário SSH no servidor remoto
                    remoteServer.allowAnyHosts = true // Configuração de segurança - permitir qualquer host (não recomendado em produção)
                    
                    sshCommand remote: remoteServer, command: 'echo "Hello World" && hostname' // Comando a ser executado no servidor remoto
                }
            }
        }
    }
}
